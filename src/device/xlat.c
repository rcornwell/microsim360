/*
 * microsim360 - Various transaction tables.
 *
 * Copyright 2021, Richard Cornwell
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */

#include <stdint.h>
#include "xlat.h"

const uint8_t ascii_to_ebcdic[128] = {
   /* Control                              */
    0x01,0x02,0x03,0xFF,0x00,0x00,0x00,0x00,    /*0-37*/
   /*Control*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   /*Control*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   /*Control*/
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
   /*  sp    !     "     #     $     %     &     ' */
    0x40, 0x5a, 0x7f, 0x7b, 0x5b, 0x6c, 0x50, 0x7d,     /* 40 - 77 */
   /*  (     )     *     +     ,     -     .     / */
    0x4d, 0x5d, 0x5c, 0x4e, 0x6b, 0x60, 0x4b, 0x61,
   /*  0     1     2     3     4     5     6     7 */
    0xf0, 0xf1, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6, 0xf7,
   /*  8     9     :     ;     <     =     >     ? */
    0xf8, 0xf9, 0x7a, 0x5e, 0x4c, 0x7e, 0x6e, 0x6f,
   /*  @     A     B     C     D     E     F     G */
    0x7c, 0xc1, 0xc2, 0xc3, 0xc4, 0xc5, 0xc6, 0xc7,     /* 100 - 137 */
   /*  H     I     J     K     L     M     N     O */
    0xc8, 0xc9, 0xd1, 0xd2, 0xd3, 0xd4, 0xd5, 0xd6,
   /*  P     Q     R     S     T     U     V     W */
    0xd7, 0xd8, 0xd9, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6,
   /*  X     Y     Z     [     \     ]     ^     _ */
    0xe7, 0xe8, 0xe9, 0xff, 0xe0, 0xff, 0x5f, 0x6d,
   /*  `     a     b     c     d     e     f     g */
    0x79, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86, 0x87,     /* 140 - 177 */
   /*  h     i     j     k     l     m     n     o */
    0x88, 0x89, 0x91, 0x92, 0x93, 0x94, 0x95, 0x96,
   /*  p     q     r     s     t     u     v      w */
    0x97, 0x98, 0x99, 0xa2, 0xa3, 0xa4, 0xa5, 0xa6,
   /*  x     y     z     {     |     }     ~   del */
    0xa7, 0xa8, 0xa9, 0xc0, 0x47, 0xd0, 0xa1, 0x6d,
};

const uint8_t ebcdic_to_ascii[256] = {
/*      0     1     2     3    4     5      6   7 */
    0x00, 0x01, 0x02, 0x03, 0xFF, 0x09, 0x00, 0x7f,      /* 0x */
    0xff, 0xff, 0xff, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f,
    0x10, 0x11, 0x12, 0x19, 0x0a, 0x08, 0x08, 0xff,      /* 1x */
    0x18, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0x1c, 0xff, 0xff, 0x0a, 0xff, 0xff,      /* 2x */
    0xff, 0xff, 0xff, 0xff, 0xff, 0x05, 0x06, 0x07,
    0xff, 0xff, 0xff, 0xff, 0xff, 0x1e, 0x00, 0xff,      /* 3x */
    0xff, 0xff, 0xff, 0xff, 0x14, 0x15, 0xff, 0xff,
    ' ',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,      /* 4x */
    0xff, 0xff, '[',  '.',  '<',  '(',  '+',  '|',
    '&',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,      /* 5x */
    0xff, 0xff, '!',  '$',  '*',  ')',  ';',  '^',
    '-',  '/',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,      /* 6x */
    0xff, 0xff, 0xff, ',',  '%',  '_',  '>',  '?',
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,      /* 7x */
    0xff, '`',  ':',  '#',  '@',  '\'', '=',  '"',
    0xff, 'a',  'b',  'c',  'd',  'e',  'f',  'g',       /* 8x */
    'h',  'i',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 'j',  'k',  'l',  'm',  'n',  'o',  'p',       /* 9x */
    'q',  'r',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, '~',  's',  't',  'u',  'v',  'w',  'x',       /* Ax */
    'y',  'z',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,      /* Bx */
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    '{',  'A',  'B',  'C',  'D',  'E',  'F',  'G',       /* Cx */
    'H',  'I',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    '}',  'J',  'K',  'L',  'M',  'N',  'O',  'P',       /* Dx */
    'Q',  'R',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    '\\', 0xff, 'S',  'T',  'U',  'V',  'W',  'X',       /* Ex */
    'Y',  'Z',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    '0',  '1',  '2',  '3',  '4',  '5',  '6',  '7',       /* Fx */
    '8',  '9',  0xff, 0xff, 0xff, 0xff, 0xff, 0xff
};

const uint16_t odd_parity[256] = {
            /*    0      1      2      3      4      5      6      7 */
    /* 00x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 01x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 02x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 03x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 04x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 05x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 06x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 07x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 10x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 11x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 12x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 13x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 14x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 15x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 16x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 17x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 20x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 21x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 22x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 23x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 24x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 25x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 26x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 27x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 30x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 31x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 32x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 33x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 34x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100,
    /* 35x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 36x */ 0x100, 0x000, 0x000, 0x100, 0x000, 0x100, 0x100, 0x000,
    /* 37x */ 0x000, 0x100, 0x100, 0x000, 0x100, 0x000, 0x000, 0x100
};

const uint8_t parity_table[64] = {
    /* 0    1    2    3    4    5    6    7 */
    0000, 0100, 0100, 0000, 0100, 0000, 0000, 0100,
    0100, 0000, 0000, 0100, 0000, 0100, 0100, 0000,
    0100, 0000, 0000, 0100, 0000, 0100, 0100, 0000,
    0000, 0100, 0100, 0000, 0100, 0000, 0000, 0100,
    0100, 0000, 0000, 0100, 0000, 0100, 0100, 0000,
    0000, 0100, 0100, 0000, 0100, 0000, 0000, 0100,
    0000, 0100, 0100, 0000, 0100, 0000, 0000, 0100,
    0100, 0000, 0000, 0100, 0000, 0100, 0100, 0000
};

const uint8_t bcd_to_ebcdic[64] = {
     0x40, 0xf1, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6, 0xf7,
     0xf8, 0xf9, 0xf0, 0x7b, 0x7c, 0x7d, 0x7e, 0x7f,
     0x7a, 0x61, 0xe2, 0xe3, 0xe4, 0xe5, 0xe6, 0xe7,
     0xe8, 0xe9, 0xe0, 0x6b, 0x6c, 0x6d, 0x6e, 0x6f,
     0x60, 0xd1, 0xd2, 0xd3, 0xd4, 0xd5, 0xd6, 0xd7,
     0xd8, 0xd9, 0xd0, 0x5b, 0x5c, 0x5d, 0x5e, 0x5f,
     0x50, 0xc1, 0xc2, 0xc3, 0xc4, 0xc5, 0xc6, 0xc7,
     0xc8, 0xc9, 0xc0, 0x4b, 0x4c, 0x4d, 0x4e, 0x4f
};

